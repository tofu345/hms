{% extends 'core/layout.html' %}

{% block title %}
Signup - HMS
{% endblock %}

{% block extra_style %}
form i {
    margin-left: -30px;
    cursor: pointer;
}
{% endblock %}

{% block body %}
<form class="container" method="post">

    <div class="container" style="margin-top: 20px;">

        <h3>Signup</h3>
        <hr>
        {% csrf_token %}
        {% if message %}

            <label for="username" class="form-label">Username</label>
            <input type="text" class="form-control mb-3" id="username" name="username" autofocus value="{{ request.POST.username }}">

            <label for="password" class="form-label">Password</label>

            <input type="password" id="password" class="form-control" aria-describedby="passwordHelpBlock" name="password" value="{{ request.POST.password }}">
            <h5 style="font-size: 16px; margin-top: 10px;"><input type="checkbox" onclick="checkbox()" class="bi bi-eye-slash"> Show Password</h5>
            <div id="passwordHelpBlock" class="form-text  mb-3">
                Your password must be 8-20 characters long, contain letters, numbers and must contain one of these characters $, @, #, %, &.
            </div>

            <label for="first" class="form-label">First Name</label>
            <input type="text" class="form-control mb-3" id="first" name="first" value="{{ request.POST.first }}">

            <label for="last" class="form-label">Last Name</label>
            <input type="text" class="form-control mb-3" id="last" name="last" value="{{ request.POST.last}}">

            <label for="email" class="form-label">Email Address</label>
            <input type="email" class="form-control mb-3" id="email" name="email" value="{{ request.POST.email }}">

        {% else %}

            <label for="username" class="form-label">Username</label>
            <input type="text" class="form-control mb-3" id="username" name="username" autofocus>

            <label for="password" class="form-label">Password</label>

            <input type="password" id="password" class="form-control" aria-describedby="passwordHelpBlock" name="password">
            <h5 style="font-size: 16px; margin-top: 10px;"><input type="checkbox" onclick="checkbox()" class="bi bi-eye-slash"> Show Password</h5>
            <div id="passwordHelpBlock" class="form-text  mb-3">
                Your password must be 8-20 characters long, contain letters, numbers and must contain one of these characters $, @, #, %, &.
            </div>

            <label for="first" class="form-label">First Name</label>
            <input type="text" class="form-control mb-3" id="first" name="first">

            <label for="last" class="form-label">Last Name</label>
            <input type="text" class="form-control mb-3" id="last" name="last">

            <label for="email" class="form-label">Email Address</label>
            <input type="email" class="form-control mb-3" id="email" name="email">
            
        {% endif %}

        {% if message %}

            <div class="p-2 mb-2 bg-danger text-white fs-6">{{ message|safe }}</div>

        {% endif %}


        <div class="col-auto">
            <button type="submit" class="btn btn-primary mb-3">Submit</button>
            <a href="{% url 'HMS:login' %}" class="link-secondary">
                <button type="button" class="btn btn-light mb-3">
                    Already have an account?
                </button>
            </a>
        </div>

    </div>
</form>

<script>
    function checkbox() {
        var textbox = document.getElementById("password");
        if (textbox.type === "password") {
            textbox.type = "text";
        } else {
            textbox.type = "password";
        }
    }
</script>
{% endblock %}